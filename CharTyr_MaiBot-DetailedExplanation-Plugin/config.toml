# detailed_explanation - 自动生成的配置文件
# 当需要详细解释科普、技术等复杂内容时，生成完整的长文本回复并智能分段发送

# 插件基本信息
[plugin]

# 插件名称
name = "detailed_explanation"

# 插件版本
version = "1.4.0"

# 配置文件版本
config_version = "1.3.0"

# 是否启用插件
enabled = true


# 详细解释功能配置
[detailed_explanation]

# 是否启用详细解释功能
enable = true

# 最大总文本长度限制
max_total_length = 3000

# 最小总文本长度限制
min_total_length = 200

# 每段目标长度
segment_length = 400

# 最小分段数
min_segments = 1

# 最大分段数
max_segments = 4

# 分段间发送延迟
send_delay = 1.5

# 是否显示进度提示
show_progress = true

# 是否显示开始提示
show_start_hint = true

# 开始提示消息
start_hint_message = "让我详细说明一下..."

# 激活概率
activation_probability = 0.1


# 激活方式配置
[activation]

# 激活类型: llm_judge / keyword / always / random / never
activation_mode = "llm_judge"

# 是否启用严格模式
strict_mode = false

# 自定义关键词列表
custom_keywords = []


# 内容生成配置
[content_generation]

# 是否启用工具调用
enable_tools = true

# 是否启用中文错别字生成器
enable_chinese_typo = false

# 生成超时时间
generation_timeout = 30

# 额外的prompt指令
extra_prompt = ""

# 使用的模型任务集合(如 replyer/utils/utils_small)
model_task = "replyer"

# 是否启用联网搜索增强
enable_search = true

# 联网搜索触发模式: auto/always/never
search_mode = "auto"


# 分段算法配置
[segmentation]

# 分段算法类型
algorithm = "smart"

# 句子分割符
sentence_separators = ['。', '！', '？', '.', '!', '?']

# 是否保持段落完整性
keep_paragraph_integrity = true

# 最小段落长度
min_paragraph_length = 50


# 关键词检测与动态 Prompt 配置
[keyword_prompts]

# 是否启用关键词检测功能
enable = true

# 关键词检测是否大小写敏感
case_sensitive = false

# 当检测到多个关键词时的处理策略: first(使用第一个匹配) / highest(使用优先级最高的) / merge(合并所有匹配的prompt)
match_strategy = "highest"

# 关键词-prompt 映射规则列表
# 每个规则包含：keywords(关键词列表)、prompt(对应的提示词)、priority(优先级，数字越大优先级越高)
[[keyword_prompts.rules]]
keywords = ["技术", "编程", "代码", "算法", "开发", "程序"]
prompt = "请以技术专家的角度进行深入的技术解释。要求：1) 包含核心原理和实现机制；2) 提供代码示例或伪代码；3) 说明最佳实践和常见陷阱；4) 对比不同技术方案的优劣；5) 给出实际应用场景。"
priority = 10

[[keyword_prompts.rules]]
keywords = ["历史", "文化", "传统", "古代"]
prompt = "请从历史文化的角度进行详细阐述。要求：1) 梳理历史发展脉络；2) 分析文化背景和社会影响；3) 引用相关史料或文献；4) 说明当代意义和启示；5) 对比不同时期或地域的差异。"
priority = 8

[[keyword_prompts.rules]]
keywords = ["科学", "物理", "化学", "生物", "实验"]
prompt = "请以科学的角度进行系统解释。要求：1) 阐述科学原理和理论基础；2) 说明实验方法和观察现象；3) 引用相关科学研究和数据；4) 解释现实应用和影响；5) 指出未解之谜和研究前沿。"
priority = 9

[[keyword_prompts.rules]]
keywords = ["商业", "经济", "市场", "金融", "投资"]
prompt = "请从商业经济的角度进行深入分析。要求：1) 分析市场机制和经济规律；2) 说明商业模式和盈利逻辑；3) 引用行业数据和案例；4) 评估风险和机遇；5) 提供战略建议和趋势预测。"
priority = 7

[[keyword_prompts.rules]]
keywords = ["医学", "健康", "疾病", "治疗", "药物"]
prompt = "请从医学健康的角度进行专业解释。要求：1) 说明生理机制和病理原理；2) 介绍诊断方法和治疗手段；3) 引用医学研究和临床证据；4) 强调预防措施和注意事项；5) 提醒：仅供参考，具体问题请咨询专业医生。"
priority = 9

[[keyword_prompts.rules]]
keywords = ["艺术", "设计", "美学", "创作"]
prompt = "请从艺术审美的角度进行深入分析。要求：1) 解读艺术特征和表现手法；2) 分析美学理念和创作意图；3) 介绍历史发展和流派风格；4) 评价作品价值和影响；5) 启发审美思考和创作灵感。"
priority = 6


